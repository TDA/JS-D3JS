<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Bar Charts SVG eg</title>
    <style>
        .bar-chart-svg {
            transform: translate(100px, 0px);
        }
        .bar-chart-svg rect {
            fill: rgba(10, 44, 216, 0.8)
        }
        .bar-chart-svg text {
            fill: black;
            font: 12px sans-serif;
            transform: rotate(-90deg);
            transform-origin: left top;
        }
    </style>
</head>
<body>
<div class="bar-chart-svg">

</div>

<script src="d3.min.js"></script>
<script>

    var jsonData = {
        "JavaScript": 481139,
        "Java": 384648,
        "CSS": 351857,
        "HTML": 283638,
        "PHP": 189458,
        "Python": 120483,
        "Perl": 36228,
        "C": 23878,
        "Ruby": 17226,
        "Swift": 3615,
        "Shell": 2491,
        "Batchfile": 937,
        "Makefile": 654,
        "CMake": 366,
        "C++": 354,
        "ApacheConf": 270
    };
    var element = {
        name: ".bar-chart-svg",
        height: 500,
        width: 1000
    };

    function drawBarGraph(jsonData, element) {
        var height = element.height;
        var width = element.width;

        // convert the json to an array of objects with
        // key value pairs language, and loc
        var maxValue = 0;
        var eachObj = [];
        for (key in jsonData) {
            var newDict = {};
            newDict['language'] = key;
            newDict['loc'] = jsonData[key];
            // now find the max value and update
            maxValue = Math.max(maxValue, jsonData[key]);
            eachObj.push(newDict);
        }

        var scale = d3.scale.linear()
                .domain([0, maxValue])
                .range([0, height]);

        var chart = d3.select(element.name)
                .append("svg")
                .attr({
                    "width": width,
                    "height": height
                });

        var groups = chart.selectAll("g")
                .data(eachObj)
                .enter()
                .append("g")
                // set x to multiples of 20, and y to the baseline by subtracting 'height' from height
                .attr("transform", function (d, i) {
                    return "translate(" + (i * 20) + "," + parseInt(height - scale(d.loc)) + ")";
                });

        // create rects for the bars
        var rects = groups.append("rect")
                .attr({
                    "width": 18
                })
                .attr("height", function (d, i) {
                    return scale(d.loc);
                });

        // create texts for the bars
        var texts = groups.append("text")
                // since rotated, x and y are interchanged
                .attr("y", "1.1em")
                // if the text goes out of screen, put it in
                .attr("x", function (d, i) {
                    return (height - scale(d.loc) <= 0) ? -120 : 0;
                })
                .text(function (d) {
                    return d.language + " - " + d.loc;
                });
    }

    drawBarGraph(jsonData, element);
</script>
</body>
</html>
